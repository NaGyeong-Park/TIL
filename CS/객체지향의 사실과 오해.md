# 01. 협력하는 객체들의 공동체

객체지향의 중요한 개념 3가지 : `역할` `책임` `협력`

**요청과 응답으로 이루어진 `협력`**

- 커피 주문 예시
  - 손님이 캐셔에게 커피를 달라고 `요청` → 캐셔가 바리스타에게 커피를 제조해달라고 `요청` → 바리스타가 커피를 만들었다고 캐셔에게 `응답` → 캐셔가 커피를 준다고 `응답`

⇒ `요청`과 `응답`을 통해서 다른 사람과 협업

**역할과 `책임`**

역할을 가지고 있다는 것은 책임을 가지고 있다는 것과 비슷하다.

- 손님 : 커피를 주문할 `책임`
- 캐셔 : 커피를 주문받을 `책임`, 바리스타가 만든 커피를 건내줄 `책임`
- 바리스타 : 커피를 제조할 `책임`

**특징**

- 여러 사람이 동일한 `역할`을 맡을 수 있다
- `역할`은 대체 가능성(substituable)을 의미한다
- `다형성` : 동일한 `책임`을 다른 방법으로 수행할 수 있다
- 한 사람이 동시에 여러 `역할`을 수행할 수 있다 : 바리스타 + 캐셔

⇒ 여기서 사람을 객체, 요청을 메세지, 요청을 처리하는 방법을 메서드로 바꾸면 객체지향

**객체지향 설계의 핵심, `책임`**

객체지향 설계의 품질을 결정하는 요소

책임이 불분명하다면 애플리케이션의 미래도 불분명

`역할` 은 유연하고 재사용 가능한 협력관계를 구축하는데 중요한 설계 요소

⇒ 대체 가능한 `역할`과 `책임`은 객체지향 패러다임의 중요한 기반을 제공하는 `다형성`과도 깊게 연관

**특징**

- 여러 객체가 동일한 역할 수행 가능
- 역할은 대체가능성을 지님
- 각 객체는 책임을 수행하는 방법을 자율적으로 선택 가능
- 하나의 객체가 동시에 여러 역할 수행 가능

**협력 속에 사는 객체**

객체지향 애플리케이션의 아름다움을 결정하는 것이 협력이라면 `협력`이 얼마나 조화를 이루는지 결정하는 것은 `객체` ⇒ 협력의 품질을 결정하는 것이 `객체`

협력 공동체의 일원으로서의 객체는 두가지 덕목을 가져야한다.

1. 충분히 협력적
   - 다른 객체의 요청을 충실히 귀 기울이고 다른 객체에게 적극적 도움을 요청할 정도로 마음을 열어야 함
   - 외부 도움을 무시하고 혼자 처리하려고 하는 전지전능 객체(god object)는 복잡도 때문에 자멸할 수 밖에 없음
2. 충분히 자율적
   - 요청에 어떤 방식으로 응답할지 객체 스스로 결정
   - 요청 할지말지도 객체 스스로 결정
   - 스스로 원칙에 따라 어떤 일을 하거나 자기 스스로 통제하여 절제

⇒ 공동의 목표를 위해 협력하지만 객체는 스스로 결정과 판단을 통해 행동하는 자율적인 존재

**상태와 행동을 함께 지닌 객체**

바리스타가 커피 제조법을 까먹지 않는 것처럼 객체도 본인의 상태를 알고 있어야 한다.

객체가 협력에 참여하기 위한 어떤 행동을 한다면 행동을 하는데 필요한 상태도 알고있어야 한다.

⇒ 객체는 상태와 행위를 하나의 단위로 묶는 자율적인 존재

객체의 자율성은 외부와 내부를 명확하게 구분하는 것으로부터 나온다

객체의 사적인 부분은 객체 스스로 관리, 객체 외부에서는 접근이 허락된 수단을 통해서만 객체와 의사소통 해야함

⇒ 객체는 다른 객체가 `무엇`을 수행하는 지는 알 수 있지만, `어떻게` 수행하는 지는 알 수 없다

과거 전통적이 개발 방법은 데이터와 프로세스를 엄격하게 구분

→ 객체지향에서는 데이터와 프로세스를 하나의 틀 안에 묶어놓아 객체의 자율성 보장

→ 자율적인 객체로 구성된 공동체는 재사용이 용이하고 유지보수가 좋음

**협력과 `메세지`**

객체지향에서는 서로 요청을 보내고 응답하기 위한 의사소통 수단으로 `메세지`를 사용한다

메세지를 전송하는(요청자) 객체를 송신자(sender)라고 하고, 메세지를 수신하는(응답자) 객체를 수신자(receiver)라고 한다.

**`메서드`의 자율성**

객체가 수신된 메세지를 처리하는 방법을 `메서드`(method)라고 한다

객체지향 프로그래밍 언어에서 메서드는 클래스 안에 포함된 함수나 프로시저를 통해 구현

→ 어떤 객체에게 메세지를 전송하면 결과적으로 메세지에 대응하는 특정 메서드를 실행

메시지를 수신한 객체가 실행 시간에 메서드를 선택할 수 있는 있음

- 다른 프로그래밍 언어와 객체지향 프로그래밍 언어를 구분짓는 특징
- 프로시저 호출에 대한 실행 코드를 컴파일 시간에 결정하는 절차지향과 구분되는 특징

⇒ 메세지와 메서드의 분리는 객체 협력에 참여하는 객체들의 자율성 증진 ex)핸드드립식, 머신식

외부 요청이 무엇인지 표현하는 메세지와 요청을 처리하기 위한 구체적인 방법인 메서드를 분리하는 것은 객체의 자율성을 높이는 핵심 메커니즘 ⇒ `캡슐화`(encapsulation)와 관련있다

## 객체지향의 본질

- 객체지향이란 **시스템을 상호작용하는 자율적인 객체들의 공동체**, 객체를 이용해 시스템을 분할
- 자율적인 객체란 `상태`와 `행위`를 함께 가지고 스스로 자기자신을 `책임`지는 객체
- 객체는 시스템의 **행위를 구현하기 위해서 다른 객체와 `협력`**, 각 객체는 협력 내에서 정해진 역할을 수행.     `역할`은 관련된 책임의 집합
- 객체는 다른 객체와 협력을 위해 `메세지`를 전송, 메세지를 수신한 객체는 메세지를 처리하는데 적합한 `메서드`를 **자율적으로 선택**
